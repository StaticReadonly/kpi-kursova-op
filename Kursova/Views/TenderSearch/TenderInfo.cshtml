@using System.Security.Claims
@using Models.ViewModels.TenderSearch
@model TenderInfoViewModel
@{
    ViewBag.Title = "Tender";
    Claim? guid = null;

    if (User.Identity?.IsAuthenticated ?? false)
    {
        guid = User.Claims.FirstOrDefault(c => c.Type == "Id");
    }
}

<link rel="stylesheet" href="~/css/Login.css"/>
<link rel="stylesheet" href="~/css/TenderSearch.css"/>
<link rel="stylesheet" href="~/css/SpecialButtons/NewButton.css" />
<link rel="stylesheet" href="~/css/SpecialButtons/CopyLinkButton.css" />
<link rel="stylesheet" href="~/css/Common/Text.css" />

@await Html.PartialAsync("~/Views/Shared/CopyLinkButton.cshtml")
@if (guid != null && guid.Value != Model.OwnerId.ToString())
{
    @await Html.PartialAsync("~/Views/Shared/NewTenderButton.cshtml", Model.Id)
}
<div class="tendersSearchMainContainer">
    <div class="tendersSearchMainSign">
        Tender info
    </div>
    <div class="tenderContainer">
        <div class="tenderName tenderItemBorder">
            Name: @Model.Name
        </div>
        <div class="tenderItemBorder">
            Owner: @Model.OwnerFullName
        </div>
        <div class="tenderItemBorder txtGreenCst">
            Cost: @Model.Cost
        </div>
        <div class="tenderItemBorder">
            State: @Model.State.Name
        </div>
        <div class="tenderDesc2 tenderDesc tenderItemBorder">
            Description:
            <div>
                @Model.Description
            </div>
        </div>
        <div class="tenderItemBorder">
            Executer: @Model.ExecuterFullName
        </div>
        <div class="tenderItemBorder">
            Creation Date: @Model.CreationDate
        </div>
        @if (guid != null && guid.Value == Model.OwnerId.ToString())
        { 
            <div class="tenderItemBorder">
                <a href="/tenders/offers?Id=@Model.Id">Show offers</a>
            </div>
        }
    </div>
</div>
<script src="~/js/CopyLinkButton.js"></script>